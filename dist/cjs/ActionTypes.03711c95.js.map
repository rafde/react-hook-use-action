{"mappings":";;;;;;;;;;;AAqBO,MAAM;IAQZ,YAAa,KAA8C,CAAI;QAC9D,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;QACtB,IAAI,CAAC,SAAS,GAAG,MAAM,SAAS;QAChC,IAAI,CAAC,iBAAiB,GAAG,CAAC,MAAM,kBAAkB,GAC/C;YAAE,YAAY;QAAM,IACpB;YACD,YAAY,CAAC,MAAM,kBAAkB;YACrC,GAAG,OAAO,iBAAiB;QAC5B;IACF;AACD;AAEA,SAAS,0CAA+B,OAAgB,EAAE,IAAuD;IAChH,OAAO,QAAS,WAAW,OAAO,YAAY,YAAY,QAAQ;AACnE;AAEO,MAAM,kDAEH;IACT,YAAa,KAAyH,CAAI;QACzI,KAAK,CAAE;YACN,GAAG,KAAK;YACR,MAAM;QACP;IACD;AACD;AAEO,SAAS,0CAGb,OAAgB;IAClB,MAAM,YAAY,0CAAqB,SAAS;IAEhD,OAAO,SAAS,iBACf,SAA0E,EAC1E,iBAAqC;QAErC,OAAO,IAAI,0CAAkC;+BAC5C;YACA,oBAAoB;uBACpB;QACD;IACD;AACD;AAEO,MAAM,kDAEH;IACT,YAAa,KAAiH,CAAI;QACjI,KAAK,CAAE;YACN,GAAG,KAAK;YACR,MAAM;QACP;IACD;AACD;AAEO,SAAS,0CAGb,OAAgB;IAClB,MAAM,YAAY,0CAAqB,SAAS;IAEhD,OAAO,SAAS,gBACf,SAAmE,EACnE,iBAAqC;QAErC,OAAO,IAAI,0CAA0B;+BACpC;YACA,oBAAoB;uBACpB;QACD;IACD;AACD;AAEO,MAAM,kDAEH;IACT,YAAa,KAMZ,CAAI;QACJ,KAAK,CAAE;YACN,GAAG,KAAK;YACR,MAAM;QACP;IACD;AACD;AAEO,SAAS,0CAGb,OAAgB;IAClB,MAAM,qBAAqB,0CAAqB,SAAS;IAEzD,OAAO,SAAS,iBACf,SAAmE,EACnE,iBAAqC;QAErC,OAAO,IAAI,0CAA2B;+BACrC;gCACA;uBACA;QACD;IACD;AACD;AAEO,MAAM,kDAEH;IACT,YAAa,KAMZ,CAAI;QACJ,KAAK,CAAE;YACN,GAAG,KAAK;YACR,MAAM;QACP;IACD;AACD;AAEO,SAAS,0CAGb,OAAgB;IAClB,MAAM,qBAAqB,0CAAqB,SAAS;IAEzD,OAAO,SAAS,kBACf,SAAoE,EACpE,iBAAqC;QAErC,OAAO,IAAI,0CAA4B;+BACtC;gCACA;uBACA;QACD;IACD;AACD;AAEO,MAAM,kDAEH;IACT,YAAa,KAMZ,CAAI;QACJ,KAAK,CAAE;YACN,GAAG,KAAK;YACR,MAAM;QACP;IACD;AACD;AAEO,SAAS,yCAGb,OAAgB;IAClB,MAAM,qBAAqB,0CAAqB,SAAS;IAEzD,OAAO,SAAS,yBACf,SAA2E,EAC3E,iBAAqC;QAErC,OAAO,IAAI,0CAAmC;+BAC7C;gCACA;uBACA;QACD;IACD;AACD","sources":["src/internal/ActionTypes.ts"],"sourcesContent":["import { CTAState, } from '../types/CTAState';\nimport { DefaultActionsRecord, } from '../types/DefaultActionsRecord';\n\ntype ActionTypeOptionsNoAugmentedActionDefined = {\n\tuseDefault: true\n};\n\ntype ActionTypeOptions = {\n\tuseDefault?: false\n} | ActionTypeOptionsNoAugmentedActionDefined;\n\nexport type ActionTypeConstructParam<\n\tInitial extends CTAState,\n\tType extends keyof DefaultActionsRecord<Initial>,\n> = {\n\tactionTypeOptions?: ActionTypeOptions\n\thasAugmentedAction: boolean\n\tnextState: Parameters<DefaultActionsRecord<Initial>[Type]>[1]\n\ttype: Type\n};\n\nexport class ActionType<\n\tInitial extends CTAState,\n\tType extends keyof DefaultActionsRecord<Initial>,\n> {\n\treadonly type: ActionTypeConstructParam<Initial, Type>['type'];\n\treadonly nextState: Readonly<ActionTypeConstructParam<Initial, Type>['nextState']>;\n\treadonly actionTypeOptions: ActionTypeOptions;\n\n\tconstructor( param: ActionTypeConstructParam<Initial, Type>, ) {\n\t\tthis.type = param.type;\n\t\tthis.nextState = param.nextState;\n\t\tthis.actionTypeOptions = !param.hasAugmentedAction\n\t\t\t? { useDefault: true, }\n\t\t\t: {\n\t\t\t\tuseDefault: !param.hasAugmentedAction,\n\t\t\t\t...param?.actionTypeOptions,\n\t\t\t};\n\t}\n}\n\nfunction _hasAugmentedAction<Actions,>( actions: Actions, type: keyof DefaultActionsRecord<Record<string, never>>, ) {\n\treturn Boolean( actions && typeof actions === 'object' && type in actions, );\n}\n\nexport class UpdateInitialActionType<\n\tInitial extends CTAState,\n> extends ActionType<Initial, 'updateInitial'> {\n\tconstructor( param: Pick<ActionTypeConstructParam<Initial, 'updateInitial'>, 'actionTypeOptions' | 'nextState' | 'hasAugmentedAction'>, ) {\n\t\tsuper( {\n\t\t\t...param,\n\t\t\ttype: 'updateInitial',\n\t\t}, );\n\t}\n}\n\nexport function createUpdateInitialActionType<\n\tInitial extends CTAState,\n\tActions,\n>( actions: Actions, ) {\n\tconst hasAction = _hasAugmentedAction( actions, 'updateInitial', );\n\n\treturn function updateActionType(\n\t\tnextState: ActionTypeConstructParam<Initial, 'updateInitial'>['nextState'],\n\t\tactionTypeOptions?: ActionTypeOptions,\n\t) {\n\t\treturn new UpdateInitialActionType<Initial>( {\n\t\t\tactionTypeOptions,\n\t\t\thasAugmentedAction: hasAction,\n\t\t\tnextState,\n\t\t}, );\n\t};\n}\n\nexport class ResetActionType<\n\tInitial extends CTAState,\n> extends ActionType<Initial, 'reset'> {\n\tconstructor( param: Pick<ActionTypeConstructParam<Initial, 'reset'>, 'actionTypeOptions' | 'nextState' | 'hasAugmentedAction'>, ) {\n\t\tsuper( {\n\t\t\t...param,\n\t\t\ttype: 'reset',\n\t\t}, );\n\t}\n}\n\nexport function createResetActionType<\n\tInitial extends CTAState,\n\tActions,\n>( actions: Actions, ) {\n\tconst hasAction = _hasAugmentedAction( actions, 'reset', );\n\n\treturn function resetActionType(\n\t\tnextState?: ActionTypeConstructParam<Initial, 'reset'>['nextState'],\n\t\tactionTypeOptions?: ActionTypeOptions,\n\t) {\n\t\treturn new ResetActionType<Initial>( {\n\t\t\tactionTypeOptions,\n\t\t\thasAugmentedAction: hasAction,\n\t\t\tnextState,\n\t\t}, );\n\t};\n}\n\nexport class UpdateActionType<\n\tInitial extends CTAState,\n> extends ActionType<Initial, 'update'> {\n\tconstructor( param: Pick<\n\t\tActionTypeConstructParam<\n\t\t\tInitial,\n\t\t\t'update'\n\t\t>,\n\t\t'actionTypeOptions' | 'nextState' | 'hasAugmentedAction'\n\t>, ) {\n\t\tsuper( {\n\t\t\t...param,\n\t\t\ttype: 'update',\n\t\t}, );\n\t}\n}\n\nexport function createUpdateActionType<\n\tInitial extends CTAState,\n\tActions,\n>( actions: Actions, ) {\n\tconst hasAugmentedAction = _hasAugmentedAction( actions, 'update', );\n\n\treturn function updateActionType(\n\t\tnextState: ActionTypeConstructParam<Initial, 'update'>['nextState'],\n\t\tactionTypeOptions?: ActionTypeOptions,\n\t) {\n\t\treturn new UpdateActionType<Initial>( {\n\t\t\tactionTypeOptions,\n\t\t\thasAugmentedAction,\n\t\t\tnextState,\n\t\t}, );\n\t};\n}\n\nexport class ReplaceActionType<\n\tInitial extends CTAState,\n> extends ActionType<Initial, 'replace'> {\n\tconstructor( param: Pick<\n\t\tActionTypeConstructParam<\n\t\t\tInitial,\n\t\t\t'replace'\n\t\t>,\n\t\t'actionTypeOptions' | 'nextState' | 'hasAugmentedAction'\n\t>, ) {\n\t\tsuper( {\n\t\t\t...param,\n\t\t\ttype: 'replace',\n\t\t}, );\n\t}\n}\n\nexport function createReplaceActionType<\n\tInitial extends CTAState,\n\tActions,\n>( actions: Actions, ) {\n\tconst hasAugmentedAction = _hasAugmentedAction( actions, 'replace', );\n\n\treturn function replaceActionType(\n\t\tnextState: ActionTypeConstructParam<Initial, 'replace'>['nextState'],\n\t\tactionTypeOptions?: ActionTypeOptions,\n\t) {\n\t\treturn new ReplaceActionType<Initial>( {\n\t\t\tactionTypeOptions,\n\t\t\thasAugmentedAction,\n\t\t\tnextState,\n\t\t}, );\n\t};\n}\n\nexport class ReplaceInitialActionType<\n\tInitial extends CTAState,\n> extends ActionType<Initial, 'replaceInitial'> {\n\tconstructor( param: Pick<\n\t\tActionTypeConstructParam<\n\t\t\tInitial,\n\t\t\t'replaceInitial'\n\t\t>,\n\t\t'actionTypeOptions' | 'nextState' | 'hasAugmentedAction'\n\t>, ) {\n\t\tsuper( {\n\t\t\t...param,\n\t\t\ttype: 'replaceInitial',\n\t\t}, );\n\t}\n}\n\nexport function createReplaceInitialActionType<\n\tInitial extends CTAState,\n\tActions,\n>( actions: Actions, ) {\n\tconst hasAugmentedAction = _hasAugmentedAction( actions, 'replaceInitial', );\n\n\treturn function replaceInitialActionType(\n\t\tnextState: ActionTypeConstructParam<Initial, 'replaceInitial'>['nextState'],\n\t\tactionTypeOptions?: ActionTypeOptions,\n\t) {\n\t\treturn new ReplaceInitialActionType<Initial>( {\n\t\t\tactionTypeOptions,\n\t\t\thasAugmentedAction,\n\t\t\tnextState,\n\t\t}, );\n\t};\n}\n"],"names":[],"version":3,"file":"ActionTypes.03711c95.js.map"}