{"mappings":";;;;;;;;;;;AASe,kDAGZ,MAGF;IACA,MAAM,WACL,OAAO,EACP,GAAG;IACJ,MAAM,CACL,UACA,YACA,GAAG,OAAO,eAAe;IAE1B,MAAM,WAAW,CAAA,GAAA,oBAAM,EACtB,IAAM,CAAA,GAAA,iDAAsB,EAAqB,aAAa,UAC9D;QACC;QACA;KACA;IAGF,OAAO,CAAA,GAAA,oBAAM,EACZ;QACC,MAAM,UAA+B;YACpC,SAAS,SAAS,OAAO;YACzB,SAAS,SAAS,OAAO;YACzB,SAAS,SAAS,OAAO;YACzB,UAAU,SAAS,QAAQ;YAC3B,iBAAiB,SAAS,eAAe;QAC1C;QACA,SAAS,OAAO,GAAG;QAEnB,OAAO;YACN;YACA;SACA;IACF,GACA;QACC;QACA;KACA;AAEH","sources":["src/internal/usePublicCTA.ts"],"sourcesContent":["import { useMemo, } from 'react';\n\nimport type { CTAState, } from '../types/CTAState';\nimport type { CTAHistory, } from '../types/CTAHistory';\nimport type { UseCTAParameter, } from '../types/UseCTAParameter';\nimport type { UseCTAReturnType, } from '../types/UseCTAReturnType';\nimport { createDispatchInterface, } from './createDispatchInterface';\nimport type { UsePrivateCTAReturnType, } from './usePrivateCTA';\n\nexport default function usePublicCTA<\n\tInitial extends CTAState,\n\tActions,\n>( params: {\n\tactions?: UseCTAParameter<Initial, Actions>['actions']\n\tstateDispatcher: UsePrivateCTAReturnType<Initial, Actions>\n}, ): UseCTAReturnType<Initial, Actions> {\n\tconst {\n\t\tactions,\n\t} = params;\n\tconst [\n\t\tctaState,\n\t\tctaDispatch,\n\t] = params.stateDispatcher;\n\n\tconst dispatch = useMemo(\n\t\t() => createDispatchInterface<Initial, Actions>( ctaDispatch, actions, ),\n\t\t[\n\t\t\tctaDispatch,\n\t\t\tactions,\n\t\t],\n\t);\n\n\treturn useMemo(\n\t\t() => {\n\t\t\tconst history: CTAHistory<Initial> = {\n\t\t\t\tchanges: ctaState.changes,\n\t\t\t\tcurrent: ctaState.current,\n\t\t\t\tinitial: ctaState.initial,\n\t\t\t\tprevious: ctaState.previous,\n\t\t\t\tpreviousInitial: ctaState.previousInitial,\n\t\t\t};\n\t\t\tdispatch.history = history;\n\n\t\t\treturn [\n\t\t\t\thistory,\n\t\t\t\tdispatch,\n\t\t\t];\n\t\t},\n\t\t[\n\t\t\tctaState,\n\t\t\tdispatch,\n\t\t],\n\t);\n}\n"],"names":[],"version":3,"file":"usePublicCTA.21a1cb20.js.map"}